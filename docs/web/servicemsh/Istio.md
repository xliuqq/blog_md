# Istio

## 架构

### 数据平面

Istio的数据平面主要包括Envoy代理的扩展版本。 Envoy是一个开源边缘和服务代理，可帮助将网络问题与底层应用程序分离开来。应用程序仅向localhost发送消息或从localhost接收消息，而无需了解网络拓扑。

- 在OSI模型的L3和L4层运行的网络代理；
- 支持用于基于HTTP的流量的附加L7层过滤器；
- HTTP/2和gRPC传输具有一流的支持；

Istio作为服务网格提供的许多功能实际上是由**Envoy代理**的基础内置功能启用的：

- **流量控制**：Envoy通过HTTP，gRPC，WebSocket和TCP流量的丰富路由规则启用细粒度的流量控制应用
- **网络弹性**：Envoy包括对自动重试，断路和故障注入的开箱即用支持
- **安全性**：Envoy还可以实施安全策略，并对基础服务之间的通信应用访问控制和速率限制

### 控制面

控制平面负责管理和配置数据平面中的Envoy代理。

在Istio架构中，控制面核心组件是**istiod**，Istiod负责**将高级路由规则和流量控制行为转换为特定于Envoy的配置**，并在运行时将其传播到Sidercar。

