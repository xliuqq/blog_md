[toc]

# 类加载

类加载器：通过一个类的全限定名来获取描述此类的二进制字节流；

类由类加载器和类本身确定其在虚拟机中的唯一性；

- 类“相等”（Class对象的equals,      isAssignableFrom, isInstance方法），必须由同一个加载器加载前提下才有意义；加载器不同，则肯定不同；



## 双亲委派模型

- 将加载交给父加载器加载，父加载器无法加载，则自己再加载；（类和类加载器有了优先层级）

  - 组合而不是继承实现；

- Java中JNDI服务，由启动类加载器加载（rt.jar），但是实现是由第三方提供的，启动类加载器加载不到；

  - 第三方提供的具体jar实现，由Thread的contextClassLoader加载，即Java在JNDI服务里显示使用线程上下文类加载器加载第三方代码；

  - 线程上下文类加载器，继承于父线程，若开始就没有，则默认是系统类加载器（AppClassLoader）；

    

## 启动类加载器

C++语言实现，是虚拟机自身一部分；

- 将<JAVA_HOME>\lib目录中或-Xbootclasspath指定路径，仅被虚拟机识别的类库加载到虚拟机。

- 不可以被Java程序直接引用，

## 扩展类加载器

<JAVA_HOME>\lib\ext目录或java.ext.dirs指定路径，可以被Java程序使用；

## 系统类加载器

应用程序类加载器：用户类路径（ClassPath）上类库，可以直接被Java使用；

## 自定义类加载器

- 覆盖findClass方法；

